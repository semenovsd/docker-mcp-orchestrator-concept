# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Docker MCP Orchestrator V2

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Docker MCP Orchestrator V2 —Å —É—á–µ—Ç–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã proxy –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

---

## üéØ –¶–µ–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. –°–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä Orchestrator —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º tools (~14 tools)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Proxy Layer –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Docker MCP Toolkit –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞–º–∏
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏
6. –°–æ–∑–¥–∞—Ç—å AI Prompt Rules –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
docker-mcp-orchestrator/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ orchestrator/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server.py              # –û—Å–Ω–æ–≤–Ω–æ–π MCP —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ proxy.py                # Proxy Layer –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ connection_pool.py     # –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ docker_client.py        # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker MCP Toolkit
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cache.py                # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompt_manager.py       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py               # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.py                # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ tools/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ servers/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ list_installed.py   # list_installed_servers
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ list_catalog.py     # list_catalog_servers
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ start.py            # start_servers
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ stop.py             # stop_servers
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ get_active.py       # get_active_servers
‚îÇ       ‚îú‚îÄ‚îÄ info/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ get_tools.py        # get_server_tools
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ get_info.py          # get_server_info
‚îÇ       ‚îú‚îÄ‚îÄ config/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ config_set.py       # config_set
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ config_get.py       # config_get
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ secret_set.py       # secret_set
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ secret_list.py      # secret_list
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ secret_remove.py    # secret_remove
‚îÇ       ‚îî‚îÄ‚îÄ proxy/
‚îÇ           ‚îú‚îÄ‚îÄ call_tool.py        # call_tool (proxy)
‚îÇ           ‚îî‚îÄ‚îÄ list_active_tools.py # list_active_tools
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ config.yaml                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ prompts/
‚îÇ   ‚îî‚îÄ‚îÄ ai_rules.md                 # AI Prompt Rules
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_proxy.py
‚îÇ   ‚îú‚îÄ‚îÄ test_connection_pool.py
‚îÇ   ‚îú‚îÄ‚îÄ test_docker_client.py
‚îÇ   ‚îú‚îÄ‚îÄ test_cache.py
‚îÇ   ‚îú‚îÄ‚îÄ test_prompt_manager.py
‚îÇ   ‚îî‚îÄ‚îÄ test_tools.py
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ ARCHITECTURE_V2.md
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ pyproject.toml
‚îî‚îÄ‚îÄ Dockerfile (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Python 3.11+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **mcp** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
- **pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **pyyaml** - —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **asyncio** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- **subprocess** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ CLI –∫–æ–º–∞–Ω–¥ Docker MCP Toolkit
- **aiofiles** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ (–¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

#### 1.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `pyproject.toml` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `requirements.txt`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (`config/config.yaml`)

#### 1.2 –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å `models.py` —Å –º–æ–¥–µ–ª—è–º–∏:
  - `Server` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ
  - `ServerMetadata` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞
  - `Tool` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ tool
  - `ServerStatus` - —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ (installed/active)
  - `ServerConfig` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
  - `ServerPrompt` - –ø—Ä–æ–º–ø—Ç —Å–µ—Ä–≤–µ—Ä–∞

---

### –≠—Ç–∞–ø 2: Docker Client

#### 2.1 –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- [ ] –°–æ–∑–¥–∞—Ç—å `docker_client.py` —Å –º–µ—Ç–æ–¥–∞–º–∏:
  - `get_catalog_servers()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–∑ Catalog
  - `get_installed_servers()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
  - `get_active_servers()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
  - `enable_servers(servers: List[str])` - –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤
  - `disable_servers(servers: List[str])` - –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤
  - `get_server_tools(server: str)` - –ø–æ–ª—É—á–µ–Ω–∏–µ tools —Å–µ—Ä–≤–µ—Ä–∞
  - `get_server_info(server: str)` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

#### 2.2 –ö–æ–º–∞–Ω–¥—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:
  - `config_read()` - —á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - `config_write(config: dict)` - –∑–∞–ø–∏—Å—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - `secret_set(key: str, value: str)` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ–∫—Ä–µ—Ç–∞
  - `secret_list()` - —Å–ø–∏—Å–æ–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤
  - `secret_remove(key: str)` - —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```python
async def config_write(config: dict) -> bool:
    """–ó–∞–ø–∏—Å–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ docker mcp config write"""
    # –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è config –≤ —Ñ–æ—Ä–º–∞—Ç, –ø–æ–Ω—è—Ç–Ω—ã–π Docker MCP Toolkit
    # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã docker mcp config write
    pass
```

---

### –≠—Ç–∞–ø 3: Connection Pool (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

#### 3.1 –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å `connection_pool.py` —Å –∫–ª–∞—Å—Å–æ–º `MCPConnectionPool`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏:
  - –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å MCP —Å–µ—Ä–≤–µ—Ä–æ–º
  - –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  - –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
  - –ó–∞–∫—Ä—ã—Ç–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```python
class MCPConnectionPool:
    def __init__(self):
        self._connections: Dict[str, MCPClient] = {}
        self._lock = asyncio.Lock()
    
    async def get_connection(self, server: str) -> MCPClient:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º, —Å–æ–∑–¥–∞—Ç—å –µ—Å–ª–∏ –Ω–µ—Ç"""
        async with self._lock:
            if server not in self._connections:
                self._connections[server] = await self._create_connection(server)
            return self._connections[server]
    
    async def _create_connection(self, server: str) -> MCPClient:
        """–°–æ–∑–¥–∞—Ç—å MCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º"""
        # –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å transport (stdio/sse)
        # –°–æ–∑–¥–∞—Ç—å MCP –∫–ª–∏–µ–Ω—Ç
        # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
        pass
```

#### 3.2 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ transport –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫ Orchestrator –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–∞–º
- [ ] –í–∞—Ä–∏–∞–Ω—Ç—ã:
  - –ß–µ—Ä–µ–∑ Docker MCP Toolkit gateway (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)
  - –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º —á–µ—Ä–µ–∑ stdio
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SSE/streaming transport

**–í–∞–∂–Ω–æ**: –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º, –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —á–µ—Ä–µ–∑ Docker MCP Toolkit.

---

### –≠—Ç–∞–ø 4: Proxy Layer (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

#### 4.1 Proxy –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ tools
- [ ] –°–æ–∑–¥–∞—Ç—å `proxy.py` —Å –∫–ª–∞—Å—Å–æ–º `ToolProxy`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é:
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ –∏–º–µ–Ω–∏ tool
  - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ –Ω—É–∂–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É
  - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ tool —á–µ—Ä–µ–∑ MCP Protocol
  - –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```python
class ToolProxy:
    def __init__(self, connection_pool: MCPConnectionPool):
        self._pool = connection_pool
        self._tool_to_server: Dict[str, str] = {}
    
    async def call_tool(self, tool_name: str, arguments: dict) -> Any:
        """–í—ã–∑–≤–∞—Ç—å tool —á–µ—Ä–µ–∑ proxy"""
        # –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –ø–æ –∏–º–µ–Ω–∏ tool
        server = self._tool_to_server.get(tool_name)
        if not server:
            raise ValueError(f"Tool {tool_name} not found")
        
        # –ü–æ–ª—É—á–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
        connection = await self._pool.get_connection(server)
        
        # –í—ã–∑–≤–∞—Ç—å tool
        result = await connection.call_tool(tool_name, arguments)
        
        return result
    
    def register_tool(self, tool_name: str, server: str):
        """–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å tool –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏"""
        self._tool_to_server[tool_name] = server
```

#### 4.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Connection Pool
- [ ] –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ tools
- [ ] –û–±–Ω–æ–≤–ª—è—Ç—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

---

### –≠—Ç–∞–ø 5: Prompt Manager

#### 5.1 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `prompt_manager.py` —Å –∫–ª–∞—Å—Å–æ–º `PromptManager`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
  - –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∫—ç—à–µ
  - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```python
class PromptManager:
    def __init__(self, cache: MetadataCache):
        self._cache = cache
    
    async def get_server_prompt(self, server: str) -> Optional[str]:
        """–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–ø—Ç —Å–µ—Ä–≤–µ—Ä–∞"""
        metadata = await self._cache.get_server_metadata(server)
        return metadata.get("prompt")
    
    async def get_prompts_for_servers(self, servers: List[str]) -> Dict[str, str]:
        """–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤"""
        prompts = {}
        for server in servers:
            prompt = await self.get_server_prompt(server)
            if prompt:
                prompts[server] = prompt
        return prompts
```

---

### –≠—Ç–∞–ø 6: Cache Manager

#### 6.1 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å `cache.py` —Å –∫–ª–∞—Å—Å–æ–º `MetadataCache`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ (TTL: 5 –º–∏–Ω—É—Ç)
  - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ tools (TTL: 10 –º–∏–Ω—É—Ç)
  - –ü—Ä–æ–º–ø—Ç—ã (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫—ç—à)
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤

---

### –≠—Ç–∞–ø 7: MCP Tools

#### 7.1 –ì—Ä—É–ø–ø–∞ 1: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- [ ] `list_installed_servers` - —Å–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- [ ] `list_catalog_servers` - —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- [ ] `start_servers` - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤ (—Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –ø—Ä–æ–º–ø—Ç–æ–≤)
- [ ] `stop_servers` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ (—Å –∑–∞–∫—Ä—ã—Ç–∏–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π)
- [ ] `get_active_servers` - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `start_servers`**:
```python
async def start_servers(servers: List[str]) -> dict:
    """–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è"""
    # 1. –ê–∫—Ç–∏–≤–∞—Ü–∏—è —á–µ—Ä–µ–∑ Docker MCP Toolkit
    await docker_client.enable_servers(servers)
    
    # 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    for server in servers:
        await connection_pool.get_connection(server)
    
    # 3. –ü–æ–ª—É—á–µ–Ω–∏–µ tools –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ proxy
    for server in servers:
        tools = await docker_client.get_server_tools(server)
        for tool in tools:
            proxy.register_tool(tool.name, server)
    
    # 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
    prompts = await prompt_manager.get_prompts_for_servers(servers)
    
    # 5. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö tools
    active_tools = await proxy.list_active_tools()
    
    return {
        "status": "success",
        "servers": servers,
        "tools": active_tools,
        "prompts": prompts
    }
```

#### 7.2 –ì—Ä—É–ø–ø–∞ 2: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–∞—Ö
- [ ] `get_server_tools` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ tools —Å–µ—Ä–≤–µ—Ä–∞
- [ ] `get_server_info` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

#### 7.3 –ì—Ä—É–ø–ø–∞ 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- [ ] `config_set` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] `config_get` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] `secret_set` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ–∫—Ä–µ—Ç–∞
- [ ] `secret_list` - —Å–ø–∏—Å–æ–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤
- [ ] `secret_remove` - —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞

#### 7.4 –ì—Ä—É–ø–ø–∞ 4: Proxy tools
- [ ] `call_tool` - –≤—ã–∑–æ–≤ tool —á–µ—Ä–µ–∑ proxy
- [ ] `list_active_tools` - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö tools

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `call_tool`**:
```python
async def call_tool(tool_name: str, arguments: dict) -> Any:
    """–í—ã–∑–≤–∞—Ç—å tool —á–µ—Ä–µ–∑ proxy"""
    try:
        result = await proxy.call_tool(tool_name, arguments)
        return {
            "status": "success",
            "result": result
        }
    except Exception as e:
        return {
            "status": "error",
            "error": str(e)
        }
```

---

### –≠—Ç–∞–ø 8: MCP Server

#### 8.1 –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
- [ ] –°–æ–∑–¥–∞—Ç—å `server.py` —Å –∫–ª–∞—Å—Å–æ–º `OrchestratorServer`
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö ~14 tools
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
  - Docker Client
  - Connection Pool
  - Proxy
  - Cache
  - Prompt Manager

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```python
class OrchestratorServer:
    def __init__(self):
        self.server = Server("docker-mcp-orchestrator")
        self.docker_client = DockerClient()
        self.cache = MetadataCache()
        self.connection_pool = MCPConnectionPool()
        self.proxy = ToolProxy(self.connection_pool)
        self.prompt_manager = PromptManager(self.cache)
        self._register_tools()
    
    def _register_tools(self):
        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö tools
        pass
```

---

### –≠—Ç–∞–ø 9: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### 9.1 Retry –ª–æ–≥–∏–∫–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
- [ ] Graceful degradation

#### 9.2 –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- [ ] –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

#### 9.3 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

### –≠—Ç–∞–ø 10: AI Prompt Rules

#### 10.1 –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª
- [ ] –°–æ–∑–¥–∞—Ç—å `prompts/ai_rules.md` —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–ª—è AI
- [ ] –û–ø–∏—Å–∞—Ç—å workflow —Ä–∞–±–æ—Ç—ã —Å Orchestrator
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å –≤–∞–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è proxy –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ tools

#### 10.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –ø—Ä–∞–≤–∏–ª –≤ Cursor
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä `.cursorrules` —Ñ–∞–π–ª–∞

---

### –≠—Ç–∞–ø 11: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 11.1 Unit —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è Proxy Layer
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è Connection Pool
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è Docker Client
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è Cache
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è Prompt Manager
- [ ] –¢–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ tool

#### 11.2 Integration —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Docker MCP Toolkit
- [ ] –¢–µ—Å—Ç—ã –ø–æ–ª–Ω–æ–≥–æ workflow (–∑–∞–ø—É—Å–∫ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Üí –æ—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [ ] –¢–µ—Å—Ç—ã proxy —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

#### 11.3 E2E —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º Cursor
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ (–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –æ—à–∏–±–∫–∏)

---

### –≠—Ç–∞–ø 12: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### 12.1 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å FAQ
- [ ] –û–ø–∏—Å–∞—Ç—å proxy —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### 12.2 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ proxy

---

## üîÑ Workflow —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1: MVP (–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç)
1. –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
2. Docker Client —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
3. –ü—Ä–æ—Å—Ç–æ–π Connection Pool
4. –ë–∞–∑–æ–≤—ã–π Proxy (–±–µ–∑ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
5. 3-4 –æ—Å–Ω–æ–≤–Ω—ã—Ö tools (list_installed_servers, start_servers, call_tool)

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2: –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
1. –í—Å–µ ~14 tools
2. –ü–æ–ª–Ω—ã–π Proxy Layer —Å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏
5. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ú–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–∞–º

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞–∫ Orchestrator –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º, –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —á–µ—Ä–µ–∑ Docker MCP Toolkit?

**–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è**:
- **–í–∞—Ä–∏–∞–Ω—Ç A**: –ß–µ—Ä–µ–∑ Docker MCP Toolkit gateway (–µ—Å–ª–∏ gateway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API)
- **–í–∞—Ä–∏–∞–Ω—Ç B**: –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º —á–µ—Ä–µ–∑ stdio
- **–í–∞—Ä–∏–∞–Ω—Ç C**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SSE/streaming transport

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Docker MCP Toolkit –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

### 2. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è tools –∫ —Å–µ—Ä–≤–µ—Ä–∞–º

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π —Å–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π tool?

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ª—É—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ –µ–≥–æ tools —á–µ—Ä–µ–∑ `docker mcp tools ls`
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å mapping `tool_name ‚Üí server_name` –≤ Proxy
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç mapping –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤?

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–º–ø—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö Catalog
- –ü—Ä–æ–º–ø—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–æ–º–ø—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ/—Ä–µ—Å—É—Ä—Å–µ

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –ò–∑—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É Catalog –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ø—Ä–æ–º–ø—Ç—ã.

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ –í—Å–µ ~14 tools —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Proxy —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ Connection Pool —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–æ–º–ø—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ < 3 —Å–µ–∫—É–Ω–¥
- ‚úÖ –í—Ä–µ–º—è –≤—ã–∑–æ–≤–∞ tool —á–µ—Ä–µ–∑ proxy < 100ms (overhead)
- ‚úÖ –í—Ä–µ–º—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è < 2 —Å–µ–∫—É–Ω–¥

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Graceful degradation –ø—Ä–∏ —Å–±–æ—è—Ö

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –ò–∑—É—á–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º Docker MCP Toolkit
2. **–ü—Ä–æ—Ç–æ—Ç–∏–ø Proxy**: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ç–æ—Ç–∏–ø proxy –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
3. **–ù–∞—á–∞–ª–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: –ù–∞—á–∞—Ç—å —Å –≠—Ç–∞–ø–∞ 1 (–±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
4. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–ª–∞–Ω—É –∏—Ç–µ—Ä–∞—Ü–∏–π
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **Proxy - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**: –û—Ç –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏—Ç –≤—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
2. **Connection Pool**: –î–æ–ª–∂–µ–Ω —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
3. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±—ã—Å—Ç—Ä–æ–π –∏ –Ω–∞–¥–µ–∂–Ω–æ–π
4. **–ü—Ä–æ–º–ø—Ç—ã**: –í–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∞—Ç—å –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–æ–º–ø—Ç—ã AI

### –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

1. **–†–∏—Å–∫**: –ù–µ–ø–æ–Ω—è—Ç–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–∞–º
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø

2. **–†–∏—Å–∫**: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å proxy –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∑–∫–æ–π
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **–†–∏—Å–∫**: –°–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Connection Pool, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [x] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- [x] –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω
- [ ] –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º
- [ ] –ü—Ä–æ—Ç–æ—Ç–∏–ø Proxy —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –Ω–∞—á–∞–ª—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
